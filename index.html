<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mua Cho T√¥i M·ªôt Ly C√† Ph√™ ‚òï</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-crypto: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            --shadow-sm: 0 2px 10px rgba(0,0,0,0.1);
            --shadow-md: 0 5px 20px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 40px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }
        
        * { font-family: 'Poppins', sans-serif; }
        
        body {
            background: var(--gradient-primary);
            min-height: 100vh;
            padding: 20px 0;
        }
        
        .card {
            border: none;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 20px;
            transition: var(--transition);
        }
        
        .card:hover { transform: translateY(-5px); }
        
        .coffee-icon {
            font-size: 60px;
            animation: steam 2s ease-in-out infinite;
        }
        
        @keyframes steam {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .coffee-option {
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 15px;
        }
        
        .coffee-option:hover, .coffee-option.active {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            transform: scale(1.05);
        }
        
        .coffee-option.active { box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3); }
        
        .qr-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
        }
        
        .qr-code {
            max-width: 300px;
            width: 100%;
            border-radius: 15px;
            box-shadow: var(--shadow-md);
        }
        
        .crypto-card {
            background: var(--gradient-crypto);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .crypto-card:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-md);
        }
        
        .wallet-address {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            word-break: break-all;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin-top: 10px;
        }
        
        .btn-custom {
            background: var(--gradient-primary);
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .btn-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }
        
        .admin-section {
            background: #343a40;
            color: white;
            padding: 30px;
        }
        
        .alert-custom {
            border-radius: 15px;
            border: none;
        }
        
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .lang-btn {
            border-radius: 20px;
            padding: 8px 20px;
            font-weight: 500;
            box-shadow: var(--shadow-sm);
        }
        
        .loading-spinner {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .info-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="language-switcher">
        <button class="btn btn-light lang-btn" onclick="app.toggleLang()">
            <i class="bi bi-translate"></i> <span id="langText">English</span>
        </button>
    </div>

    <div class="container" style="max-width: 800px;">
        <!-- Admin Section -->
        <div class="card admin-section" id="adminSection" style="display: none;">
            <h4 class="mb-4">
                <i class="bi bi-shield-lock"></i> 
                <span data-vi="B·∫£ng ƒêi·ªÅu Khi·ªÉn Admin - MSB Integration" data-en="Admin Panel - MSB Integration"></span>
            </h4>
            
            <div class="alert alert-warning alert-custom" id="apiStatus">
                <i class="bi bi-exclamation-triangle"></i> 
                <span data-vi="ƒêang ki·ªÉm tra k·∫øt n·ªëi API..." data-en="Checking API connection..."></span>
            </div>
            
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label" data-vi="T√™n ƒëƒÉng nh·∫≠p MSB" data-en="Username MSB"></label>
                    <input type="text" class="form-control" id="msbUsername" data-ph-vi="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p" data-ph-en="Enter username">
                </div>
                <div class="col-md-6">
                    <label class="form-label" data-vi="M·∫≠t kh·∫©u MSB" data-en="Password MSB"></label>
                    <input type="password" class="form-control" id="msbPassword" data-ph-vi="Nh·∫≠p m·∫≠t kh·∫©u" data-ph-en="Enter password">
                </div>
            </div>
            
            <div class="mb-3">
                <label class="form-label" data-vi="S·ªë t√†i kho·∫£n" data-en="Account Number"></label>
                <input type="text" class="form-control" id="accountNumber" value="13001011869246">
            </div>
            
            <div class="d-grid gap-2">
                <button class="btn btn-custom" onclick="app.loginMSB()">
                    <i class="bi bi-box-arrow-in-right"></i> 
                    <span data-vi="ƒêƒÉng nh·∫≠p MSB" data-en="Login to MSB"></span>
                </button>
                <button class="btn btn-outline-light" onclick="app.getBalance()">
                    <i class="bi bi-wallet2"></i> 
                    <span data-vi="Ki·ªÉm tra s·ªë d∆∞" data-en="Get Balance"></span>
                </button>
                <button class="btn btn-outline-light" onclick="app.getTransactions()">
                    <i class="bi bi-clock-history"></i> 
                    <span data-vi="L·∫•y giao d·ªãch (7 ng√†y)" data-en="Get Transactions (7 days)"></span>
                </button>
            </div>
            
            <div class="loading-spinner" id="loadingSpinner">
                <div class="spinner-border text-light"></div>
                <p class="mt-2" data-vi="ƒêang x·ª≠ l√Ω... Vui l√≤ng ƒë·ª£i" data-en="Processing... Please wait"></p>
            </div>
            
            <div class="mt-3" id="adminResults"></div>
            
            <button class="btn btn-outline-light mt-3" onclick="app.toggleAdmin()">
                <i class="bi bi-x-circle"></i> <span data-vi="ƒê√≥ng" data-en="Close"></span>
            </button>
        </div>

        <!-- Header -->
        <div class="card">
            <div class="card-body p-5 text-center">
                <div class="coffee-icon mb-3">‚òï</div>
                <h1 class="mb-3" data-vi="Mua Cho T√¥i M·ªôt Ly C√† Ph√™" data-en="Buy Me a Coffee"></h1>
                <p class="text-muted" data-vi="H·ªó tr·ª£ c√¥ng vi·ªác c·ªßa t√¥i b·∫±ng m·ªôt t√°ch c√† ph√™ ‚òï" data-en="Support my work with a cup of coffee ‚òï"></p>
                <button class="btn btn-sm btn-outline-secondary mt-2" onclick="app.toggleAdmin()">
                    <i class="bi bi-gear"></i> Admin
                </button>
            </div>
        </div>

        <!-- Bank Transfer -->
        <div class="card">
            <div class="card-body p-4">
                <h3 class="mb-4">
                    <i class="bi bi-bank"></i> 
                    <span data-vi="Chuy·ªÉn Kho·∫£n Ng√¢n H√†ng" data-en="Bank Transfer"></span>
                </h3>
                
                <h5 class="mb-3" data-vi="Ch·ªçn s·ªë l∆∞·ª£ng c√† ph√™ ‚òï" data-en="Choose coffee amount ‚òï"></h5>
                
                <div class="row">
                    <div class="col-6 col-lg-3" onclick="app.selectAmount(25000)">
                        <div class="coffee-option">
                            <div class="fs-4 mb-2">‚òï</div>
                            <div class="fw-bold">25K</div>
                            <small class="text-muted" data-vi="1 ly" data-en="1 cup"></small>
                        </div>
                    </div>
                    <div class="col-6 col-lg-3" onclick="app.selectAmount(50000)">
                        <div class="coffee-option">
                            <div class="fs-4 mb-2">‚òï‚òï</div>
                            <div class="fw-bold">50K</div>
                            <small class="text-muted" data-vi="2 ly" data-en="2 cups"></small>
                        </div>
                    </div>
                    <div class="col-6 col-lg-3" onclick="app.selectAmount(75000)">
                        <div class="coffee-option">
                            <div class="fs-4 mb-2">‚òï‚òï‚òï</div>
                            <div class="fw-bold">75K</div>
                            <small class="text-muted" data-vi="3 ly" data-en="3 cups"></small>
                        </div>
                    </div>
                    <div class="col-6 col-lg-3" onclick="app.selectAmount(100000)">
                        <div class="coffee-option">
                            <div class="fs-4 mb-2">‚≠ê</div>
                            <div class="fw-bold">100K</div>
                            <small class="text-muted" data-vi="ƒê·∫∑c bi·ªát" data-en="Special"></small>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4">
                    <label class="form-label" data-vi="Ho·∫∑c nh·∫≠p s·ªë ti·ªÅn kh√°c:" data-en="Or enter custom amount:"></label>
                    <div class="input-group">
                        <input type="number" class="form-control" id="customAmount" data-ph-vi="Nh·∫≠p s·ªë ti·ªÅn" data-ph-en="Enter amount" onchange="app.updateQR()">
                        <span class="input-group-text">VNƒê</span>
                    </div>
                </div>
                
                <div class="qr-section mt-4">
                    <img src="https://api.vietqr.io/image/970426-13001011869246-GuEo6F2.jpg?accountName=DINH%20TRONG%20KHANH&amount=25000" 
                         alt="VietQR" class="qr-code mb-3" id="qrCode">
                    
                    <p class="fw-bold mb-2" data-vi="Qu√©t m√£ QR ƒë·ªÉ chuy·ªÉn kho·∫£n" data-en="Scan QR code to transfer"></p>
                    
                    <div class="row text-start mt-3">
                        <div class="col-md-6">
                            <p><strong data-vi="S·ªë ti·ªÅn:" data-en="Amount:"></strong> 
                               <span class="badge bg-success" style="font-size: 0.9rem; padding: 8px 15px; border-radius: 20px;" id="amountDisplay">25,000 VNƒê</span></p>
                            <p><strong data-vi="Ng√¢n h√†ng:" data-en="Bank:"></strong> Maritime Bank (MSB)</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong data-vi="Ch·ªß t√†i kho·∫£n:" data-en="Account holder:"></strong> DINH TRONG KHANH</p>
                            <p><strong data-vi="S·ªë t√†i kho·∫£n:" data-en="Account number:"></strong> 13001011869246</p>
                        </div>
                    </div>
                    
                    <div class="info-box">
                        <p class="mb-0"><strong data-vi="N·ªôi dung:" data-en="Message:"></strong> Buy Me a Coffee</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cryptocurrency -->
        <div class="card">
            <div class="card-body p-4">
                <h3 class="mb-4">
                    <i class="bi bi-currency-bitcoin"></i> 
                    <span data-vi="Thanh To√°n Cryptocurrency" data-en="Cryptocurrency Payment"></span>
                </h3>
                
                <p class="text-muted mb-4" data-vi="Ch·ªçn lo·∫°i cryptocurrency c·ªßa b·∫°n:" data-en="Choose your cryptocurrency:"></p>
                
                <div class="crypto-card" onclick="app.toggleCrypto('btc')">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0"><i class="bi bi-currency-bitcoin"></i> Bitcoin (BTC)</h5>
                        <i class="bi bi-chevron-down" id="btc-icon"></i>
                    </div>
                    <div class="wallet-address" id="btc-address" style="display: none;">
                        <small data-vi="ƒê·ªãa ch·ªâ BTC:" data-en="BTC Address:"></small><br>
                        bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh
                        <button class="btn btn-sm btn-light mt-2" onclick="app.copyAddress('btc')">
                            <i class="bi bi-clipboard"></i> <span data-vi="Sao ch√©p" data-en="Copy"></span>
                        </button>
                    </div>
                </div>
                
                <div class="crypto-card" onclick="app.toggleCrypto('usdt')">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0"><i class="bi bi-coin"></i> Tether (USDT) - TRC20</h5>
                        <i class="bi bi-chevron-down" id="usdt-icon"></i>
                    </div>
                    <div class="wallet-address" id="usdt-address" style="display: none;">
                        <small data-vi="ƒê·ªãa ch·ªâ USDT TRC20:" data-en="USDT TRC20 Address:"></small><br>
                        TYourUSDTAddressHere123456789
                        <button class="btn btn-sm btn-light mt-2" onclick="app.copyAddress('usdt')">
                            <i class="bi bi-clipboard"></i> <span data-vi="Sao ch√©p" data-en="Copy"></span>
                        </button>
                    </div>
                </div>
                
                <div class="crypto-card" onclick="app.toggleCrypto('bnb')">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0"><i class="bi bi-gem"></i> Binance Coin (BNB) - BEP20</h5>
                        <i class="bi bi-chevron-down" id="bnb-icon"></i>
                    </div>
                    <div class="wallet-address" id="bnb-address" style="display: none;">
                        <small data-vi="ƒê·ªãa ch·ªâ BNB BEP20:" data-en="BNB BEP20 Address:"></small><br>
                        0xYourBNBAddressHere123456789
                        <button class="btn btn-sm btn-light mt-2" onclick="app.copyAddress('bnb')">
                            <i class="bi bi-clipboard"></i> <span data-vi="Sao ch√©p" data-en="Copy"></span>
                        </button>
                    </div>
                </div>
                
                <div class="alert alert-warning alert-custom mt-3">
                    <i class="bi bi-exclamation-triangle"></i> 
                    <span data-vi="Vui l√≤ng ki·ªÉm tra k·ªπ ƒë·ªãa ch·ªâ v√≠ v√† network tr∆∞·ªõc khi g·ª≠i." data-en="Please double-check the wallet address and network before sending."></span>
                </div>
            </div>
        </div>

        <!-- Thank You -->
        <div class="card">
            <div class="card-body p-4 text-center">
                <h3 class="mb-3" data-vi="C·∫£m ∆†n S·ª± H·ªó Tr·ª£ C·ªßa B·∫°n! üôè" data-en="Thank You For Your Support! üôè"></h3>
                <p class="text-muted" data-vi="M·ªói ƒë√≥ng g√≥p c·ªßa b·∫°n gi√∫p t√¥i ti·∫øp t·ª•c t·∫°o ra n·ªôi dung ch·∫•t l∆∞·ª£ng." data-en="Every contribution helps me continue creating quality content."></p>
                <p class="mt-4">
                    <small><span data-vi="ƒê∆∞·ª£c t·∫°o v·ªõi" data-en="Made with"></span> <i class="bi bi-heart-fill text-danger"></i> <span data-vi="v√†" data-en="and"></span> <i class="bi bi-cup-hot-fill"></i></small>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const app = {
            lang: 'vi',
            
            t: {
                vi: {
                    langBtn: 'English',
                    apiSuccess: '<i class="bi bi-check-circle"></i> K·∫øt n·ªëi API th√†nh c√¥ng!',
                    apiFailed: '<i class="bi bi-x-circle"></i> K·∫øt n·ªëi API th·∫•t b·∫°i: ',
                    apiNote: '<br><small>ƒêi·ªÅu n√†y b√¨nh th∆∞·ªùng n·∫øu MSB API ch∆∞a ƒë∆∞·ª£c c·∫•u h√¨nh. H·ªá th·ªëng v·∫´n ho·∫°t ƒë·ªông qua QR.</small>',
                    loginSuccess: 'ƒêƒÉng nh·∫≠p th√†nh c√¥ng!',
                    loginFailed: 'ƒêƒÉng nh·∫≠p th·∫•t b·∫°i',
                    enterCredentials: 'Vui l√≤ng nh·∫≠p t√™n ƒëƒÉng nh·∫≠p v√† m·∫≠t kh·∫©u',
                    balance: 'S·ªë d∆∞:',
                    transactionsOk: 'ƒê√£ t·∫£i giao d·ªãch th√†nh c√¥ng',
                    error: 'L·ªói: ',
                    tryAgain: 'Vui l√≤ng ki·ªÉm tra th√¥ng tin ho·∫∑c th·ª≠ l·∫°i.',
                    copied: 'ƒê√£ sao ch√©p!',
                    copyFailed: 'Kh√¥ng th·ªÉ sao ch√©p'
                },
                en: {
                    langBtn: 'Ti·∫øng Vi·ªát',
                    apiSuccess: '<i class="bi bi-check-circle"></i> API connection successful!',
                    apiFailed: '<i class="bi bi-x-circle"></i> API connection failed: ',
                    apiNote: '<br><small>Expected if MSB API not configured. Payment works via QR code.</small>',
                    loginSuccess: 'Login successful!',
                    loginFailed: 'Login failed',
                    enterCredentials: 'Please enter both username and password',
                    balance: 'Balance:',
                    transactionsOk: 'Transactions loaded successfully',
                    error: 'Error: ',
                    tryAgain: 'Please check credentials or try again.',
                    copied: 'Copied to clipboard!',
                    copyFailed: 'Failed to copy'
                }
            },
            
            init() {
                this.updateLang();
                document.querySelectorAll('.coffee-option')[0].classList.add('active');
            },
            
            toggleLang() {
                this.lang = this.lang === 'vi' ? 'en' : 'vi';
                this.updateLang();
            },
            
            updateLang() {
                const l = this.lang;
                document.getElementById('langText').textContent = this.t[l].langBtn;
                document.documentElement.lang = l;
                
                document.querySelectorAll(`[data-${l}]`).forEach(el => {
                    el.textContent = el.getAttribute(`data-${l}`);
                });
                
                document.querySelectorAll(`[data-ph-${l}]`).forEach(el => {
                    el.placeholder = el.getAttribute(`data-ph-${l}`);
                });
            },
            
            selectAmount(amt) {
                document.querySelectorAll('.coffee-option').forEach(el => el.classList.remove('active'));
                event.currentTarget.querySelector('.coffee-option').classList.add('active');
                document.getElementById('customAmount').value = amt;
                this.updateQR();
            },
            
            updateQR() {
                const amt = document.getElementById('customAmount').value || 25000;
                document.getElementById('qrCode').src = 
                    `https://api.vietqr.io/image/970426-13001011869246-GuEo6F2.jpg?accountName=DINH%20TRONG%20KHANH&amount=${amt}`;
                document.getElementById('amountDisplay').textContent = 
                    `${Number(amt).toLocaleString('vi-VN')} VNƒê`;
            },
            
            toggleCrypto(type) {
                const addr = document.getElementById(`${type}-address`);
                const icon = document.getElementById(`${type}-icon`);
                const show = addr.style.display === 'none';
                
                addr.style.display = show ? 'block' : 'none';
                icon.className = show ? 'bi bi-chevron-up' : 'bi bi-chevron-down';
            },
            
            copyAddress(type) {
                const addrs = {
                    btc: 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh',
                    usdt: 'TYourUSDTAddressHere123456789',
                    bnb: '0xYourBNBAddressHere123456789'
                };
                
                navigator.clipboard.writeText(addrs[type])
                    .then(() => alert(this.t[this.lang].copied))
                    .catch(() => alert(this.t[this.lang].copyFailed));
            },
            
            toggleAdmin() {
                const sec = document.getElementById('adminSection');
                const show = sec.style.display === 'none';
                sec.style.display = show ? 'block' : 'none';
                if (show) this.checkAPI();
            },
            
            async checkAPI() {
                const el = document.getElementById('apiStatus');
                el.innerHTML = '<i class="bi bi-hourglass-split"></i> ' + 
                    (this.lang === 'vi' ? 'ƒêang ki·ªÉm tra...' : 'Checking...');
                el.className = 'alert alert-warning alert-custom';
                
                try {
                    await fetch('https://api.example.com/health', {
                        signal: AbortSignal.timeout(5000)
                    });
                    el.innerHTML = this.t[this.lang].apiSuccess;
                    el.className = 'alert alert-success alert-custom';
                } catch (e) {
                    el.innerHTML = this.t[this.lang].apiFailed + e.message + this.t[this.lang].apiNote;
                    el.className = 'alert alert-danger alert-custom';
                }
            },
            
            async loginMSB() {
                const user = document.getElementById('msbUsername').value;
                const pass = document.getElementById('msbPassword').value;
                
                if (!user || !pass) {
                    alert(this.t[this.lang].enterCredentials);
                    return;
                }
                
                this.showLoading(true);
                
                try {
                    const res = await fetch('https://api.msb.com.vn/login', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ username: user, password: pass }),
                        signal: AbortSignal.timeout(10000)
                    });
                    
                    this.showResult(
                        res.ok ? this.t[this.lang].loginSuccess : this.t[this.lang].loginFailed,
                        res.ok ? 'success' : 'danger'
                    );
                } catch (e) {
                    this.showResult(
                        this.t[this.lang].error + e.message + '. ' + this.t[this.lang].tryAgain,
                        'danger'
                    );
                } finally {
                    this.showLoading(false);
                }
            },
            
            getBalance() {
                this.showLoading(true);
                setTimeout(() => {
                    this.showResult(this.t[this.lang].balance + ' 1,234,567 VNƒê', 'info');
                    this.showLoading(false);
                }, 1000);
            },
            
            getTransactions() {
                this.showLoading(true);
                setTimeout(() => {
                    this.showResult(this.t[this.lang].transactionsOk, 'info');
                    this.showLoading(false);
                }, 1000);
            },
            
            showLoading(show) {
                document.getElementById('loadingSpinner').style.display = show ? 'block' : 'none';
            },
            
            showResult(msg, type) {
                document.getElementById('adminResults').innerHTML = 
                    `<div class="alert alert-${type} alert-custom mt-3">${msg}</div>`;
            }
        };
        
        document.addEventListener('DOMContentLoaded', () => app.init());
    </script>
</body>
</html>