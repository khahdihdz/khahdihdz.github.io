<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ủng Hộ Duy Trì Server Dream City</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a2e;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #fff;
            box-sizing: border-box;
            overflow-x: hidden;
        }

        .container {
            background-color: #2e2e44;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
            max-width: 400px;
            width: 100%;
            transition: all 0.3s ease;
            box-sizing: border-box;
            overflow: hidden;
        }

        h1 {
            font-size: 24px;
            color: #f39c12;
            margin-bottom: 20px;
        }

        .qrcode img {
            width: 100%;
            max-width: 220px;
            height: auto;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .description {
            color: #bbb;
            font-size: 16px;
            margin-bottom: 20px;
        }

        input[type="text"], input[type="number"] {
            padding: 12px;
            width: calc(100% - 24px);
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 16px;
            outline: none;
        }

        input[type="text"]:focus, input[type="number"]:focus {
            border-color: #f39c12;
        }

        input[type="file"] {
            padding: 12px;
            width: calc(100% - 24px);
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 16px;
            color: #bbb;
        }

        button {
            background-color: #f39c12;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
            width: calc(100% - 48px);
            box-sizing: border-box;
        }

        button:hover {
            background-color: #e67e22;
        }

        .thank-you {
            display: none;
            color: #28a745;
            margin-top: 20px;
            font-size: 18px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                max-width: 100%;
            }

            h1 {
                font-size: 22px;
            }

            .description {
                font-size: 14px;
            }

            input[type="text"], input[type="number"], input[type="file"], button {
                width: calc(100% - 20px);
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 20px;
            }

            .description {
                font-size: 12px;
            }

            input[type="text"], input[type="number"], input[type="file"], button {
                width: calc(100% - 16px);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ủng Hộ Duy Trì Server Dream City</h1>
        <div class="qrcode">
            <img src="https://raw.githubusercontent.com/khahdihdz/khahdihdz.github.io/refs/heads/main/1725131445384.png" alt="QR Code Chuyển Khoản">
        </div>
        <p class="description">Ủng hộ để duy trì và phát triển server Dream City. Mọi đóng góp đều có ý nghĩa lớn trong việc duy trì hoạt động và cải thiện trải nghiệm chơi game của cộng đồng!</p>
        <input type="text" id="donorName" placeholder="Nhập tên của bạn">
        <input type="number" id="donationAmount" placeholder="Nhập số tiền ủng hộ (VND)" min="10000">
        <input type="file" id="billImage" accept="image/*">
        <button onclick="notifyDonation()">Xác nhận đã donate</button>
        <p class="thank-you" id="thankYouMessage"></p>
    </div>

    <script>
        function notifyDonation() {
            const donorName = document.getElementById('donorName').value;
            const donationAmount = document.getElementById('donationAmount').value;
            const billImage = document.getElementById('billImage').files[0];

            if (!donorName) {
                alert('Vui lòng nhập tên của bạn!');
                return;
            }

            if (!donationAmount || donationAmount < 10000) {
                alert('Vui lòng nhập số tiền hợp lệ (tối thiểu 10.000 VND)!');
                return;
            }

            if (!billImage) {
                alert('Vui lòng tải lên hình ảnh bill xác nhận!');
                return;
            }

            const webhookURL = 'https://discord.com/api/webhooks/1296179509854343241/JwO5NgNUIBYiid6xDqlopM6ccL3J1LYbqf-L27aBA8uWo1v1kO2GlGc10czmesZyiuYw';

            const reader = new FileReader();
            reader.onloadend = function() {
                const base64Image = reader.result;

                const donationData = {
                    username: 'Dream City Donation Bot',
                    content: `Có một khoản ủng hộ mới từ **${donorName}** với số tiền **${donationAmount} VND**!`,
                    embeds: [
                        {
                            title: 'Thông tin ủng hộ',
                            description: `Cảm ơn ${donorName} đã hoàn tất ủng hộ để duy trì server.`,
                            color: 15158332,
                            fields: [
                                {
                                    name: 'Số tiền',
                                    value: `${donationAmount} VND`,
                                    inline: true
                                },
                                {
                                    name: 'Người ủng hộ',
                                    value: donorName,
                                    inline: true
                                }
                            ],
                            image: {
                                url: base64Image
                            }
                        }
                    ]
                };

                fetch(webhookURL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(donationData),
                })
                .then(response => {
                    if (response.ok) {
                        const thankYouMessage = document.getElementById('thankYouMessage');
                        thankYouMessage.innerText = `Cảm ơn bạn, ${donorName}, vì đã ủng hộ số tiền ${donationAmount} VND để duy trì server Dream City!`;
                        thankYouMessage.style.display = 'block';
                    } else {
                        alert('Đã xảy ra lỗi khi gửi thông báo.');
                    }
                })
                .catch(error => {
                    alert('Đã xảy ra lỗi: ' + error);
                });
            };

            if (billImage) {
                reader.readAsDataURL(billImage);
            }
        }
    </script>
</body>
</html>
